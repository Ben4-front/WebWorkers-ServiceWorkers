(()=>{"use strict";const e=document.getElementById("feed-container");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("./service-worker.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})}),async function(){!function(){let n="";for(let e=0;e<3;e++)n+='\n            <div class="news-item skeleton">\n                <div class="news-image"></div>\n                <div class="news-content">\n                    <div class="news-title"></div>\n                    <div class="news-description-line"></div>\n                    <div class="news-description-line"></div>\n                </div>\n            </div>\n        ';e.innerHTML=n}();try{const n=await fetch("https://webworkers-serviceworkers-backend.onrender.com/news");if(!n.ok)throw new Error("Network response was not ok");!function(n){let s="";n.forEach(e=>{s+=`\n            <div class="news-item">\n                <img src="${e.image}" alt="img" class="news-image">\n                <div class="news-content">\n                    <div class="news-title">${e.title}</div>\n                    <div class="news-description">${e.description}</div>\n                </div>\n            </div>\n        `}),e.innerHTML=s}((await n.json()).data)}catch(n){console.error("Fetch error:",n),e.innerHTML='\n        <div class="error-message">\n            <h2>Не удалось загрузить данные</h2>\n            <p>Проверьте подключение и обновите страницу.</p>\n        </div>\n    '}}()})();